import{_ as Z,u as ee,a as te,b as oe,s as ne,r as I,o as ae,c as l,d as c,e as g,f as e,w as t,g as i,h as p,i as u,F as B,j as S,k as d,n as le,t as _,l as h}from"./index-CCKSt-uV.js";const se={class:"product-list"},ce={class:"image-carousel-container"},re={class:"image-dots"},ie={class:"d-flex justify-space-between align-center"},ue={key:0,class:"text-decoration-line-through mr-2 text-grey"},de={class:"text-h6"},_e={class:"text-center"},me={__name:"ProductList",setup(M){const b=ee(),s=te(),F=oe(),{paginatedProducts:m,totalPages:T}=ne(s),P=I(s.currentPage),x=I(s.pageSize),z=[{title:"Todos los Precios",value:null},{title:"$0 - $50",value:{min:0,max:50}},{title:"$50 - $100",value:{min:50,max:100}},{title:"$100 - $200",value:{min:100,max:200}},{title:"Más de $200",value:{min:200,max:1/0}}],A=[{title:"Precio: Menor a Mayor",value:"asc"},{title:"Precio: Mayor a Menor",value:"desc"}];ae(()=>{s.initializeProducts(),m.value.forEach(o=>{o.currentImageIndex=0})});const $=()=>{s.currentPage=P.value,s.pageSize=x.value},L=o=>o.discount>0?Math.round(o.salePrice*(1-o.discount/100)):o.salePrice,R=(o,a)=>{o.currentImageIndex=a},U=o=>{o?s.filterByPriceRange(o.min,o.max):s.clearAllFilters()},w=o=>{o?s.filterByGender(o):s.clearAllFilters()},D=o=>{s.sortByPrice(o)},N=()=>{s.clearAllFilters()},j=o=>{const a={...o,quantity:1};F.addToCart(a)},V=o=>{b.push({name:"ProductDetail",params:{id:o}})};return(o,a)=>{const v=l("v-select"),r=l("v-col"),y=l("v-btn"),f=l("v-row"),G=l("v-alert"),E=l("v-img"),O=l("v-icon"),q=l("v-card-title"),H=l("v-card-subtitle"),J=l("v-chip"),K=l("v-card-text"),Q=l("v-card-actions"),W=l("v-card"),X=l("v-pagination"),Y=l("v-container");return c(),g("div",se,[e(Y,{fluid:""},{default:t(()=>[e(f,null,{default:t(()=>[e(r,{cols:"12",sm:"2"},{default:t(()=>[e(v,{modelValue:x.value,"onUpdate:modelValue":[a[0]||(a[0]=n=>x.value=n),$],items:[5,10,15,20],label:"Productos por página"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"3"},{default:t(()=>[e(v,{items:z,label:"Rango de Precio","onUpdate:modelValue":U})]),_:1}),e(r,{cols:"12",sm:"2"},{default:t(()=>[e(v,{items:["","Hombre","Mujer","Unisex"],label:"Género","onUpdate:modelValue":w})]),_:1}),e(r,{cols:"12",sm:"2"},{default:t(()=>[e(v,{items:A,label:"Ordenar por Precio","onUpdate:modelValue":D})]),_:1}),e(r,{cols:"12",sm:"3"},{default:t(()=>[e(y,{color:"secondary",block:"",onClick:N},{default:t(()=>a[2]||(a[2]=[i(" Limpiar Filtros ")])),_:1})]),_:1})]),_:1}),p(m).length===0?(c(),u(f,{key:0},{default:t(()=>[e(r,null,{default:t(()=>[e(G,{type:"info",class:"text-center"},{default:t(()=>a[3]||(a[3]=[i(" No se encontraron productos ")])),_:1})]),_:1})]),_:1})):(c(),u(f,{key:1},{default:t(()=>[(c(!0),g(B,null,S(p(m),n=>(c(),u(r,{key:n.id,cols:"12",sm:"6",md:"4"},{default:t(()=>[e(W,{class:"product-card"},{default:t(()=>[d("div",ce,[e(E,{src:n.image[n.currentImageIndex],alt:n.name,height:"250",cover:"",class:"cursor-pointer",onClick:k=>V(n.id)},null,8,["src","alt","onClick"]),d("div",re,[(c(!0),g(B,null,S(n.image,(k,C)=>(c(),u(y,{key:C,icon:"",size:"x-small",class:le(["mx-1",{"active-dot":n.currentImageIndex===C}]),onClick:fe=>R(n,C)},{default:t(()=>[e(O,null,{default:t(()=>a[4]||(a[4]=[i("mdi-circle")])),_:1})]),_:2},1032,["class","onClick"]))),128))])]),e(q,{onClick:k=>V(n.id),class:"cursor-pointer"},{default:t(()=>[i(_(n.name),1)]),_:2},1032,["onClick"]),e(H,null,{default:t(()=>[i(_(n.shortDescription),1)]),_:2},1024),e(K,null,{default:t(()=>[d("div",ie,[d("div",null,[n.discount>0?(c(),g("span",ue," $"+_(n.salePrice.toLocaleString()),1)):h("",!0),d("span",de," $"+_(L(n).toLocaleString()),1)]),n.discount>0?(c(),u(J,{key:0,color:"green",small:""},{default:t(()=>[i(" -"+_(n.discount)+"% ",1)]),_:2},1024)):h("",!0)])]),_:2},1024),e(Q,null,{default:t(()=>[e(y,{color:"primary",block:"",onClick:k=>j(n)},{default:t(()=>a[5]||(a[5]=[i(" Agregar al carrito ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})),p(m).length>0?(c(),u(f,{key:2,class:"mt-4"},{default:t(()=>[e(r,null,{default:t(()=>[d("div",_e,[e(X,{modelValue:P.value,"onUpdate:modelValue":[a[1]||(a[1]=n=>P.value=n),$],length:p(T)},null,8,["modelValue","length"])])]),_:1})]),_:1})):h("",!0)]),_:1})])}}},ve=Z(me,[["__scopeId","data-v-833d27b0"]]),pe={__name:"Magnetic",setup(M){return(b,s)=>(c(),u(ve))}};export{pe as default};
